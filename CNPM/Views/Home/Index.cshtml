@model IEnumerable<CNPM.Models.Product_title>
@{
    ViewBag.Title = "Home Page";
}
<link href="@Url.Content("~/Content/Style.css")" rel="stylesheet" type="text/css" />
<body>
    <!-- Slideshow container/ Thanh quảng cáo -->
    <div class="slideshow-container">
        <div class="mySlides fade">
            <img src="~/Content/Image/qc1.png" style="width:100%;height:400px">
        </div>

        <div class="mySlides fade">
            <img src="~/Content/Image/qc2.png" style="width: 100%; height: 400px">
        </div>

        <div class="mySlides fade">
            <img src="~/Content/Image/qc3.png" style="width: 100%; height: 400px">
        </div>

        <div class="mySlides fade">
            <img src="~/Content/Image/qc4.png" style="width: 100%; height: 400px">
        </div>
        <div class="mySlides fade">
            <img src="~/Content/Image/qc5.png" style="width: 100%; height: 400px">
        </div>
        <!-- Next and previous buttons -->
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>
    <br>

    <!-- The dots/circles -->
    <div style="text-align:center">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
        <span class="dot" onclick="currentSlide(4)"></span>
        <span class="dot" onclick="currentSlide(5)"></span>
    </div>

    <script>
        let slideIndex = 0;
        showSlides();

        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");

            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }

            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }

            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }

            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 4000); // Change image every 4 seconds
        }

        function currentSlide(n) {
            slideIndex = n;
            showSlides();
        }

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        // Optional: Remove auto-slideshow when user interacts
        let slideshowContainer = document.getElementsByClassName('slideshow-container')[0];
        slideshowContainer.addEventListener('mouseenter', stopSlideshow);
        slideshowContainer.addEventListener('mouseleave', resumeSlideshow);

        function stopSlideshow() {
            clearTimeout(autoSlide);
        }

        function resumeSlideshow() {
            autoSlide = setTimeout(showSlides, 2000);
        }
    </script>
    <!-- Thanh lọc -->
    <div>
        @Html.ActionLink("Theo giá tăng dần", "Index", new { SortOrder = "price_asc", page = ViewBag.PageNumber })

        |

        @Html.ActionLink("Theo giá giảm dần", "Index", new { SortOrder = "price_desc", page = ViewBag.PageNumber })

    </div>

    <!-- Sản phẩm -->
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                @{ Html.RenderAction("CategoryPartial", "Home");}
            </div>
            <div class="col-md-10">
                <!-- Sản phẩm -->
                <div class="container">
                    <div class="row">
                        @foreach (var product in Model)
                        {
                            <div class="col-md-4 product-card" data-category="@product.Category1">
                                <div class="card">
                                    <a href="@Url.Action("Detail", "Product", new { id = product.ID })" class="card-link">
                                        <img src="@Url.Content(product.ImagePro)" class="card-img-top" alt="Product Image" >
                                        <div class="card-body">
                                            <h5 class="card-title">@product.name</h5>
                                            <p class="card-text"> @product.giaBia đ</p>
                                        </div>
                                    </a>
                                </div>
                            </div>}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Số trang -->
    <div class="pagination">
        @if (ViewBag.PageNumber > 1)
        {
            <a href="@Url.Action("Index", new { page = ViewBag.PageNumber - 1 })">Previous</a>}

        @for (int i = 1; i <= ViewBag.TotalPages; i++)
        {
            if (i == ViewBag.PageNumber)
            {
                <span>@i</span>
            }
            else
            {
                <a href="@Url.Action("Index", new { page = i })">@i</a>}
        }

        @if (ViewBag.PageNumber < ViewBag.TotalPages)
        {
            <a href="@Url.Action("Index", new { page = ViewBag.PageNumber + 1 })">Next</a>
        }
    </div>
</body>

